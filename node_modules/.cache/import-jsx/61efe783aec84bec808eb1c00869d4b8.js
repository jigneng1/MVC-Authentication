'use strict';

const {
  promises: dns
} = require('dns');
const React = require('react');
const {
  useState,
  useEffect
} = require('react');
const {
  Box,
  Text,
  Newline,
  useApp,
  useStdout
} = require('ink');
const Spinner = require('ink-spinner').default;
const api = require('./api.js');
const {
  convertToMpbs
} = require('./utilities.js');
const FixedSpacer = ({
  size
}) => /*#__PURE__*/React.createElement(React.Fragment, null, ' '.repeat(size));
const ErrorMessage = ({
  text
}) => /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Text, {
  bold: true,
  color: "red"
}, "\u203A", /*#__PURE__*/React.createElement(FixedSpacer, {
  size: 1
})), /*#__PURE__*/React.createElement(Text, {
  dimColor: true
}, text), /*#__PURE__*/React.createElement(Newline, {
  count: 2
}));
const Spacer = ({
  singleLine
}) => {
  if (singleLine) {
    return null;
  }
  return /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(Newline, {
    count: 1
  }));
};
const DownloadSpeed = ({
  isDone,
  downloadSpeed,
  uploadSpeed,
  downloadUnit
} = {}) => {
  const color = isDone || uploadSpeed ? 'green' : 'cyan';
  return /*#__PURE__*/React.createElement(Text, {
    color: color
  }, downloadSpeed, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 1
  }), /*#__PURE__*/React.createElement(Text, {
    dimColor: true
  }, downloadUnit), /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 1
  }), "\u2193");
};
const UploadSpeed = ({
  isDone,
  uploadSpeed,
  uploadUnit
} = {}) => {
  const color = isDone ? 'green' : 'cyan';
  if (uploadSpeed) {
    return /*#__PURE__*/React.createElement(Text, {
      color: color
    }, uploadSpeed, /*#__PURE__*/React.createElement(Text, {
      dimColor: true
    }, ` ${uploadUnit} ↑`));
  }
  return /*#__PURE__*/React.createElement(Text, {
    dimColor: true,
    color: color
  }, ' - Mbps ↑');
};
const Speed = ({
  upload,
  data
}) => upload ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DownloadSpeed, data), /*#__PURE__*/React.createElement(Text, {
  dimColor: true
}, ' / '), /*#__PURE__*/React.createElement(UploadSpeed, data)) : /*#__PURE__*/React.createElement(DownloadSpeed, data);
const Fast = ({
  singleLine,
  upload,
  json
}) => {
  const [error, setError] = useState('');
  const [data, setData] = useState({});
  const [isDone, setIsDone] = useState(false);
  const {
    exit
  } = useApp();
  const {
    write
  } = useStdout();
  useEffect(() => {
    (async () => {
      try {
        await dns.lookup('fast.com');
      } catch (error) {
        setError(error.code === 'ENOTFOUND' ? 'Please check your internet connection' : `Something happened ${JSON.stringify(error)}`);
        exit();
        return;
      }

      // eslint-disable-next-line unicorn/no-array-for-each
      api({
        measureUpload: upload
      }).forEach(result => {
        if (!upload) {
          delete result.uploaded;
          delete result.uploadUnit;
          delete result.uploadSpeed;
        }
        setData(result);
      }).catch(error_ => {
        // eslint-disable-line promise/prefer-await-to-then
        setError(error_.message);
        exit();
      });
    })();
  }, [exit, upload]);
  useEffect(() => {
    if (data.isDone || !upload && data.uploadSpeed) {
      setIsDone(true);
    }
  }, [data.isDone, upload, data.uploadSpeed]);
  useEffect(() => {
    if (isDone) {
      if (json) {
        delete data.isDone;
        data.downloadSpeed = convertToMpbs(data.downloadSpeed, data.downloadUnit);
        delete data.downloadUnit;
        if (upload) {
          data.uploadSpeed = convertToMpbs(data.uploadSpeed, data.uploadUnit);
          delete data.uploadUnit;
        }
        write(JSON.stringify(data, undefined, '\t'));
      }
      exit();
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [isDone, exit]);
  if (error) {
    return /*#__PURE__*/React.createElement(ErrorMessage, {
      text: error
    });
  }
  if (json) {
    return null;
  }
  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Spacer, {
    singleLine: singleLine
  }), /*#__PURE__*/React.createElement(Box, null, !isDone && /*#__PURE__*/React.createElement(React.Fragment, null, !singleLine && /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 2
  })), /*#__PURE__*/React.createElement(Text, {
    color: "cyan"
  }, /*#__PURE__*/React.createElement(Spinner, null)), /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 1
  }))), isDone && /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 4
  })), Object.keys(data).length > 0 && /*#__PURE__*/React.createElement(Speed, {
    upload: upload,
    data: data
  })), /*#__PURE__*/React.createElement(Spacer, {
    singleLine: singleLine
  }));
};
module.exports = Fast;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9taXNlcyIsImRucyIsInJlcXVpcmUiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiQm94IiwiVGV4dCIsIk5ld2xpbmUiLCJ1c2VBcHAiLCJ1c2VTdGRvdXQiLCJTcGlubmVyIiwiZGVmYXVsdCIsImFwaSIsImNvbnZlcnRUb01wYnMiLCJGaXhlZFNwYWNlciIsInNpemUiLCJyZXBlYXQiLCJFcnJvck1lc3NhZ2UiLCJ0ZXh0IiwiU3BhY2VyIiwic2luZ2xlTGluZSIsIkRvd25sb2FkU3BlZWQiLCJpc0RvbmUiLCJkb3dubG9hZFNwZWVkIiwidXBsb2FkU3BlZWQiLCJkb3dubG9hZFVuaXQiLCJjb2xvciIsIlVwbG9hZFNwZWVkIiwidXBsb2FkVW5pdCIsIlNwZWVkIiwidXBsb2FkIiwiZGF0YSIsIkZhc3QiLCJqc29uIiwiZXJyb3IiLCJzZXRFcnJvciIsInNldERhdGEiLCJzZXRJc0RvbmUiLCJleGl0Iiwid3JpdGUiLCJsb29rdXAiLCJjb2RlIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1lYXN1cmVVcGxvYWQiLCJmb3JFYWNoIiwicmVzdWx0IiwidXBsb2FkZWQiLCJjYXRjaCIsImVycm9yXyIsIm1lc3NhZ2UiLCJ1bmRlZmluZWQiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInVpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmNvbnN0IHtwcm9taXNlczogZG5zfSA9IHJlcXVpcmUoJ2RucycpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3Qge3VzZVN0YXRlLCB1c2VFZmZlY3R9ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IHtCb3gsIFRleHQsIE5ld2xpbmUsIHVzZUFwcCwgdXNlU3Rkb3V0fSA9IHJlcXVpcmUoJ2luaycpO1xuY29uc3QgU3Bpbm5lciA9IHJlcXVpcmUoJ2luay1zcGlubmVyJykuZGVmYXVsdDtcbmNvbnN0IGFwaSA9IHJlcXVpcmUoJy4vYXBpLmpzJyk7XG5jb25zdCB7Y29udmVydFRvTXBic30gPSByZXF1aXJlKCcuL3V0aWxpdGllcy5qcycpO1xuXG5jb25zdCBGaXhlZFNwYWNlciA9ICh7c2l6ZX0pID0+IChcblx0PD57JyAnLnJlcGVhdChzaXplKX08Lz5cbik7XG5cbmNvbnN0IEVycm9yTWVzc2FnZSA9ICh7dGV4dH0pID0+IChcblx0PEJveD5cblx0XHQ8VGV4dCBib2xkIGNvbG9yPVwicmVkXCI+XG5cdFx0XHTigLpcblx0XHRcdDxGaXhlZFNwYWNlciBzaXplPXsxfS8+XG5cdFx0PC9UZXh0PlxuXHRcdDxUZXh0IGRpbUNvbG9yPlxuXHRcdFx0e3RleHR9XG5cdFx0PC9UZXh0PlxuXHRcdDxOZXdsaW5lIGNvdW50PXsyfS8+XG5cdDwvQm94PlxuKTtcblxuY29uc3QgU3BhY2VyID0gKHtzaW5nbGVMaW5lfSkgPT4ge1xuXHRpZiAoc2luZ2xlTGluZSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIChcblx0XHQ8VGV4dD5cblx0XHRcdDxOZXdsaW5lIGNvdW50PXsxfS8+XG5cdFx0PC9UZXh0PlxuXHQpO1xufTtcblxuY29uc3QgRG93bmxvYWRTcGVlZCA9ICh7aXNEb25lLCBkb3dubG9hZFNwZWVkLCB1cGxvYWRTcGVlZCwgZG93bmxvYWRVbml0fSA9IHt9KSA9PiB7XG5cdGNvbnN0IGNvbG9yID0gKGlzRG9uZSB8fCB1cGxvYWRTcGVlZCkgPyAnZ3JlZW4nIDogJ2N5YW4nO1xuXG5cdHJldHVybiAoXG5cdFx0PFRleHQgY29sb3I9e2NvbG9yfT5cblx0XHRcdHtkb3dubG9hZFNwZWVkfVxuXHRcdFx0PEZpeGVkU3BhY2VyIHNpemU9ezF9Lz5cblx0XHRcdDxUZXh0IGRpbUNvbG9yPntkb3dubG9hZFVuaXR9PC9UZXh0PlxuXHRcdFx0PEZpeGVkU3BhY2VyIHNpemU9ezF9Lz5cblx0XHRcdOKGk1xuXHRcdDwvVGV4dD5cblx0KTtcbn07XG5cbmNvbnN0IFVwbG9hZFNwZWVkID0gKHtpc0RvbmUsIHVwbG9hZFNwZWVkLCB1cGxvYWRVbml0fSA9IHt9KSA9PiB7XG5cdGNvbnN0IGNvbG9yID0gaXNEb25lID8gJ2dyZWVuJyA6ICdjeWFuJztcblxuXHRpZiAodXBsb2FkU3BlZWQpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PFRleHQgY29sb3I9e2NvbG9yfT5cblx0XHRcdFx0e3VwbG9hZFNwZWVkfVxuXHRcdFx0XHQ8VGV4dCBkaW1Db2xvcj5cblx0XHRcdFx0XHR7YCAke3VwbG9hZFVuaXR9IOKGkWB9XG5cdFx0XHRcdDwvVGV4dD5cblx0XHRcdDwvVGV4dD5cblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIDxUZXh0IGRpbUNvbG9yIGNvbG9yPXtjb2xvcn0+eycgLSBNYnBzIOKGkSd9PC9UZXh0Pjtcbn07XG5cbmNvbnN0IFNwZWVkID0gKHt1cGxvYWQsIGRhdGF9KSA9PiB1cGxvYWQgPyAoXG5cdDw+XG5cdFx0PERvd25sb2FkU3BlZWQgey4uLmRhdGF9Lz5cblx0XHQ8VGV4dCBkaW1Db2xvcj57JyAvICd9PC9UZXh0PlxuXHRcdDxVcGxvYWRTcGVlZCB7Li4uZGF0YX0vPlxuXHQ8Lz5cbikgOiAoPERvd25sb2FkU3BlZWQgey4uLmRhdGF9Lz4pO1xuXG5jb25zdCBGYXN0ID0gKHtzaW5nbGVMaW5lLCB1cGxvYWQsIGpzb259KSA9PiB7XG5cdGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuXHRjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZSh7fSk7XG5cdGNvbnN0IFtpc0RvbmUsIHNldElzRG9uZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IHtleGl0fSA9IHVzZUFwcCgpO1xuXHRjb25zdCB7d3JpdGV9ID0gdXNlU3Rkb3V0KCk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHQoYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXdhaXQgZG5zLmxvb2t1cCgnZmFzdC5jb20nKTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHNldEVycm9yKGVycm9yLmNvZGUgPT09ICdFTk9URk9VTkQnID9cblx0XHRcdFx0XHQnUGxlYXNlIGNoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbicgOlxuXHRcdFx0XHRcdGBTb21ldGhpbmcgaGFwcGVuZWQgJHtKU09OLnN0cmluZ2lmeShlcnJvcil9YFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRleGl0KCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tYXJyYXktZm9yLWVhY2hcblx0XHRcdGFwaSh7bWVhc3VyZVVwbG9hZDogdXBsb2FkfSkuZm9yRWFjaChyZXN1bHQgPT4ge1xuXHRcdFx0XHRpZiAoIXVwbG9hZCkge1xuXHRcdFx0XHRcdGRlbGV0ZSByZXN1bHQudXBsb2FkZWQ7XG5cdFx0XHRcdFx0ZGVsZXRlIHJlc3VsdC51cGxvYWRVbml0O1xuXHRcdFx0XHRcdGRlbGV0ZSByZXN1bHQudXBsb2FkU3BlZWQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZXREYXRhKHJlc3VsdCk7XG5cdFx0XHR9KS5jYXRjaChlcnJvcl8gPT4geyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByb21pc2UvcHJlZmVyLWF3YWl0LXRvLXRoZW5cblx0XHRcdFx0c2V0RXJyb3IoZXJyb3JfLm1lc3NhZ2UpO1xuXHRcdFx0XHRleGl0KCk7XG5cdFx0XHR9KTtcblx0XHR9KSgpO1xuXHR9LCBbZXhpdCwgdXBsb2FkXSk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpZiAoZGF0YS5pc0RvbmUgfHwgKCF1cGxvYWQgJiYgZGF0YS51cGxvYWRTcGVlZCkpIHtcblx0XHRcdHNldElzRG9uZSh0cnVlKTtcblx0XHR9XG5cdH0sIFtkYXRhLmlzRG9uZSwgdXBsb2FkLCBkYXRhLnVwbG9hZFNwZWVkXSk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpZiAoaXNEb25lKSB7XG5cdFx0XHRpZiAoanNvbikge1xuXHRcdFx0XHRkZWxldGUgZGF0YS5pc0RvbmU7XG5cdFx0XHRcdGRhdGEuZG93bmxvYWRTcGVlZCA9IGNvbnZlcnRUb01wYnMoZGF0YS5kb3dubG9hZFNwZWVkLCBkYXRhLmRvd25sb2FkVW5pdCk7XG5cdFx0XHRcdGRlbGV0ZSBkYXRhLmRvd25sb2FkVW5pdDtcblxuXHRcdFx0XHRpZiAodXBsb2FkKSB7XG5cdFx0XHRcdFx0ZGF0YS51cGxvYWRTcGVlZCA9IGNvbnZlcnRUb01wYnMoZGF0YS51cGxvYWRTcGVlZCwgZGF0YS51cGxvYWRVbml0KTtcblx0XHRcdFx0XHRkZWxldGUgZGF0YS51cGxvYWRVbml0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0d3JpdGUoSlNPTi5zdHJpbmdpZnkoZGF0YSwgdW5kZWZpbmVkLCAnXFx0JykpO1xuXHRcdFx0fVxuXG5cdFx0XHRleGl0KCk7XG5cdFx0fVxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG5cdH0sIFtpc0RvbmUsIGV4aXRdKTtcblxuXHRpZiAoZXJyb3IpIHtcblx0XHRyZXR1cm4gPEVycm9yTWVzc2FnZSB0ZXh0PXtlcnJvcn0vPjtcblx0fVxuXG5cdGlmIChqc29uKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gKFxuXHRcdDw+XG5cdFx0XHQ8U3BhY2VyIHNpbmdsZUxpbmU9e3NpbmdsZUxpbmV9Lz5cblx0XHRcdDxCb3g+XG5cdFx0XHRcdHshaXNEb25lICYmIChcblx0XHRcdFx0XHQ8PlxuXHRcdFx0XHRcdFx0eyFzaW5nbGVMaW5lICYmIDxUZXh0PjxGaXhlZFNwYWNlciBzaXplPXsyfS8+PC9UZXh0Pn1cblx0XHRcdFx0XHRcdDxUZXh0IGNvbG9yPVwiY3lhblwiPjxTcGlubmVyLz48L1RleHQ+XG5cdFx0XHRcdFx0XHQ8VGV4dD48Rml4ZWRTcGFjZXIgc2l6ZT17MX0vPjwvVGV4dD5cblx0XHRcdFx0XHQ8Lz5cblx0XHRcdFx0KX1cblx0XHRcdFx0e2lzRG9uZSAmJiA8VGV4dD48Rml4ZWRTcGFjZXIgc2l6ZT17NH0vPjwvVGV4dD59XG5cdFx0XHRcdHtPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPiAwICYmIDxTcGVlZCB1cGxvYWQ9e3VwbG9hZH0gZGF0YT17ZGF0YX0vPn1cblx0XHRcdDwvQm94PlxuXHRcdFx0PFNwYWNlciBzaW5nbGVMaW5lPXtzaW5nbGVMaW5lfS8+XG5cdFx0PC8+XG5cdCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZhc3Q7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTTtFQUFDQSxRQUFRLEVBQUVDO0FBQUcsQ0FBQyxHQUFHQyxPQUFPLENBQUMsS0FBSyxDQUFDO0FBQ3RDLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM5QixNQUFNO0VBQUNFLFFBQVE7RUFBRUM7QUFBUyxDQUFDLEdBQUdILE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDOUMsTUFBTTtFQUFDSSxHQUFHO0VBQUVDLElBQUk7RUFBRUMsT0FBTztFQUFFQyxNQUFNO0VBQUVDO0FBQVMsQ0FBQyxHQUFHUixPQUFPLENBQUMsS0FBSyxDQUFDO0FBQzlELE1BQU1TLE9BQU8sR0FBR1QsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDVSxPQUFPO0FBQzlDLE1BQU1DLEdBQUcsR0FBR1gsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUMvQixNQUFNO0VBQUNZO0FBQWEsQ0FBQyxHQUFHWixPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFFakQsTUFBTWEsV0FBVyxHQUFHLENBQUM7RUFBQ0M7QUFBSSxDQUFDLGtCQUMxQiwwQ0FBRyxHQUFHLENBQUNDLE1BQU0sQ0FBQ0QsSUFBSSxDQUFDLENBQ25CO0FBRUQsTUFBTUUsWUFBWSxHQUFHLENBQUM7RUFBQ0M7QUFBSSxDQUFDLGtCQUMzQixvQkFBQyxHQUFHLHFCQUNILG9CQUFDLElBQUk7RUFBQyxJQUFJO0VBQUMsS0FBSyxFQUFDO0FBQUssMEJBRXJCLG9CQUFDLFdBQVc7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